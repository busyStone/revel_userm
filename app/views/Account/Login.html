{{set . "title" "LogIn"}}
{{append . "moreStyles" "css/register.css"}}
{{template "header.html" .}}

{{if .flash.error}}
    <div class="errordisp">
    	{{.flash.error}}
    </div>
{{end}}

<form action="{{url "Account.PostLogin"}}" method="POST">
	{{with $field := field "loginuser.Email" .}}
		<div class="control-group {{$field.ErrorClass}}">
		    <label class="control-label" for="{{$field.Id}}">电子邮件</label>
		    <div class="controls">
		    	<input type="email" id="{{$field.Id}}" name="{{$field.Name}}" value="{{$field.Flash}}" 
		    	       placeholder="name@mail.com" pattern="^[0-9a-zA-Z]+@(([0-9a-zA-Z]+)[.])+[a-z]{2,4}$"
		    	       required
		    	/>
		    </div>

		    {{if $field.Error}}
		        <span class="help-inline">{{$field.Error}}</span>
		    {{end}}
			
		</div>
    {{end}}

    {{with $field := field "loginuser.Password" .}}
		<div class="control-group {{$field.ErrorClass}}">
		    <label class="control-label" for="{{$field.Id}}">密码</label>
		    <div class="controls">
		    	<input type="text" id="{{$field.Id}}" name="{{$field.Name}}" value="{{$field.Flash}}" 
		    	       pattern="^[\x01-\xfe]{8,20}$"
		    	       required
		    	/>
		    </div>

		    {{if $field.Error}}
		        <span class="help-inline">{{$field.Error}}</span>
		    {{end}}
			
		</div>
    {{end}}

    <input type="submit" name="login" class="login" id="tologin" value="登 录"> 

    <a href="{{url "Account.Register"}}">注册</a>

</form>

{{template "footer.html" .}}